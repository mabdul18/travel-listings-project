<% layout("/layouts/boilerplate.ejs") -%>
<body>
    
    <div class="col-8 offset-2 mt-3">
     <h3>Edit your listing:</h3>
     <form method="POST" action="/listings/<%= listing._id %>?_method=PUT" class="needs-validation" novalidate enctype="multipart/form-data">
         <div class="mb-3">
            <label for="title" >Title</label>
            <input
             name="listing[title]"
             type="text"
             id="title"
             value="<%=listing.title%>"
             class="form-control"
             required>
             <div class="valid-feedback">TitleLooks good!</div>
          </div>
          <!--here we h=give value instead of placeholder, since we are going to edit aldready exixting form details-->
          <div class="mb-2">
            <label for="description" >Description</label>
            <textarea 
             name="listing[description]"
             type="text"
             id="description"
             class="form-control"required><%=listing.description%></textarea>
             <div class="invalid-feedback">Please enter a short description</div>
          </div>
         
          <div class="mb-3">
              Original Listing Image<br>
              <img src="<%=originalImageUrl%>">
          </div>
          <div class="mb-2">
            <label for="image" >Upload New Image</label>
            <input
             name="listing[image]"
             type="file" 
             id="image"
             class="form-control">
          </div>
          <div class="row">
           <div class="mb-3 col-md-4">
            <label for="price" >Price</label>
            <input
             name="listing[price]"
             type="number" 
             id="price"
             value="<%=listing.price%>" 
             class="form-control"
             required>
             <div class="invalid-feedback">Price should be valid</div>
           </div>
          
           <div class="mb-3 col-md-8">
            <label for="country">Country</label>
            <input
             name="listing[country]"
             type="text" 
             id="country"
             value="<%=listing.country%>" 
             class="form-control"
             required>
             <div class="invalid-feedback">Country name should be valid</div>
           </div>
          </div>
          
          <div class="mb-2">
            <label for="location" >Location</label>
            <input
             name="listing[location]"
             type="text" 
             value="<%=listing.location%>" 
             class="form-control"
             required>
             <div class="invalid-feedback">Location should be valid</div>
          </div>
        
          <button class="btn btn-dark edit-btn mt-3">Edit</button>
         
        
        </form>
    </div>
</body>




